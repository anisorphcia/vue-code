{"version":3,"file":"vue.js","sources":["../src/observe/index.js","../src/initState.js","../src/init.js","../src/index.js"],"sourcesContent":["export function observer(data){\r\n    if(typeof data !== 'object' || data === null){\r\n        return data;\r\n    }\r\n    return new Observer(data)\r\n}\r\n\r\nclass Observer{\r\n    constructor(value){\r\n        this.walk(value)\r\n    }\r\n    walk(data){\r\n        let keys = Object.keys(data)\r\n        for(let i = 0; i < keys.length; ++i){\r\n            let key = keys[i]\r\n            let value = data[key]\r\n            defineReactive(data, key, value)\r\n        }\r\n    }\r\n}\r\n\r\nfunction defineReactive(data, key, value){\r\n    observer(value)\r\n    Object.defineProperty(data, key, {\r\n        get(){\r\n            return value\r\n        },\r\n        set(newValue){\r\n            if(newValue === value) return\r\n            value = newValue\r\n        }\r\n    })\r\n}","import { observer } from \"./observe/index\"\r\n\r\nexport function initState(vm){\r\n    let opts = vm.$options\r\n    if(opts.data){\r\n        initData(vm)\r\n    }\r\n}\r\n\r\nfunction initData(vm){\r\n    let data = vm.$options.data\r\n    // data() 指向window\r\n    // data.call(vm) 改变this指向\r\n    data = vm._data = typeof data === 'function' ? data.call(vm) : data\r\n    // 数据劫持\r\n    observer(data)   \r\n}","import { initState } from \"./initState\"\r\n\r\nexport function initMixin(Vue){\r\n    Vue.prototype._init = function(options){\r\n        console.log(options)\r\n        let vm = this\r\n        vm.$options = options\r\n        // init\r\n        initState(vm)\r\n    }\r\n}\r\n","import { initMixin } from \"./init\"\r\n\r\nfunction Vue(options){\r\n    this._init(options)\r\n}\r\n\r\ninitMixin(Vue)\r\n\r\nexport default Vue"],"names":["observer","data","_typeof","Observer","value","_classCallCheck","walk","_createClass","key","keys","Object","i","length","defineReactive","defineProperty","get","set","newValue","initState","vm","opts","$options","initData","_data","call","initMixin","Vue","prototype","_init","options","console","log"],"mappings":"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"}